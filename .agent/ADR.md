# Architecture Decision Records

> 프로젝트의 중요한 의사결정과 그 이유를 기록합니다.

---

## ADR-001: 색상 팔레트 하이브리드 전략

| 항목 | 내용 |
|------|------|
| 날짜 | 2026-01-22 |
| 상태 | 승인됨 |
| 결정 | 보호자 웹앱은 딥블루, 로봇 LCD는 피치/크림 사용 |

### 컨텍스트
- 실버케어 로봇 서비스는 두 가지 사용자 그룹이 존재
  - 보호자/복지사: 웹앱으로 모니터링
  - 어르신: 로봇 LCD로 직접 상호작용

### 결정 이유
| 사용자 | 색상 | 이유 |
|--------|------|------|
| 복지사/가족 | 딥블루 `#1E3A5F` + 골드 `#D4A574` | 전문성, 신뢰감, 장시간 모니터링에 적합 |
| 어르신 (LCD) | 피치 `#FFAB91` + 크림 `#FFF8F5` | 따뜻함, 친근함, 높은 가독성 |

### 검토된 대안
| 대안 | 기각 이유 |
|------|----------|
| 토스 블루 단일 | 어르신용 LCD에 너무 차가움 |
| 코랄 `#FF6B6B` | 긴급 알림(빨강)과 색상 충돌 |
| 전체 통일 디자인 | 사용자별 니즈가 너무 다름 |

### 결과
- 두 개의 별도 디자인 시스템 운영
- 공통 시맨틱 컬러(safe/warning/danger)는 동일하게 유지

---

## ADR-002: 이모지 → 아이콘 전환

| 항목 | 내용 |
|------|------|
| 날짜 | 2026-01-22 |
| 상태 | 승인됨 |
| 결정 | 프로토타입의 이모지를 Lucide React 아이콘으로 전환 |

### 컨텍스트
- 기존 Gemini Canvas 프로토타입에서 이모지 사용 (😊, 🏥, 💊 등)
- 빠른 프로토타이핑에는 유용했으나 전문성 부족

### 결정 이유
- 이모지는 OS/브라우저별로 렌더링이 다름
- 전문적인 서비스 느낌 필요
- Lucide는 이미 프로젝트에서 부분적으로 사용 중

### 예외
- 로봇 표정(😊, 😴 등)은 **SVG 커스텀 일러스트** 또는 **Lottie 애니메이션**으로 대체

---

## ADR-003: 로봇 이름 커스터마이징

| 항목 | 내용 |
|------|------|
| 날짜 | 2026-01-22 |
| 상태 | 승인됨 |
| 결정 | 어르신이 로봇 이름을 직접 명명하도록 함 |

### 컨텍스트
- 로봇과 어르신 간의 정서적 유대감 강화 필요
- 호출어(Wake Word)로 사용

### 결정 이유
- 개인화된 이름은 애착 형성에 도움
- "시리", "알렉사" 같은 고정 이름보다 자연스러움

### 구현 방향
- 설정 화면에서 로봇 이름 변경 기능
- 음성 인식 시 해당 이름으로 호출
- LCD 및 보호자 앱에 이름 반영

---

## ADR-004: 색상 대비 및 접근성 개선

| 항목 | 내용 |
|------|------|
| 날짜 | 2026-01-23 |
| 상태 | 승인됨 |
| 결정 | 다크 모드 및 LCD 화면의 색상 대비 개선 |

### 컨텍스트
- 다크 모드에서 남색(#1E3A5F) 아이콘이 어두운 배경에서 보이지 않음
- LCD 화면에서 상태바 아이콘(WiFi, 배터리)이 밝은 피치 배경에서 대비 부족
- WCAG AA 4.5:1 대비율 미충족 요소 발견

### 확인된 문제점
| 화면 | 문제 요소 | 현재 색상 | 대비율 |
|------|----------|----------|--------|
| 다크 모드 대시보드 | primary 아이콘 | `#1E3A5F` on `#111827` | ~1.5:1 (실패) |
| LCD 대기 화면 | 상태바 아이콘 | `#9CA3AF` on `#FFF8F5` | ~2.8:1 (실패) |
| LCD 대기 화면 | 온도 텍스트 | `#9CA3AF` on `#FFF8F5` | ~2.8:1 (실패) |

### 결정 내용

#### 1. 다크 모드용 primary 색상 추가
```js
primary: {
  ...기존...
  400: '#6B9BD2',  // 다크 모드용 밝은 블루
}
```

#### 2. LCD 상태바 색상 변경
- 현재: `text-gray-400` (회색)
- 변경: `text-peach-text` (#5D4E37, 웜 브라운)
- 대비율: ~7.2:1 (WCAG AAA 충족)

#### 3. 다크 모드 아이콘 클래스 적용
- 기존: `text-primary-500`
- 변경: `text-primary-500 dark:text-primary-400`

### 검토된 대안
| 대안 | 기각 이유 |
|------|----------|
| 상태바 배경 어둡게 | LCD 피치 테마 정체성 훼손 |
| 아이콘 흰색 사용 | 피치 배경에서 여전히 대비 부족 |
| 그림자 추가 | 복잡성 증가, 성능 영향 |

### 결과
- 모든 화면에서 WCAG AA 4.5:1 이상 충족
- LCD 화면은 AAA 7:1 목표 달성
- 브랜드 색상 정체성 유지

---

## ADR-005: LCD 화면 구성 표준화

| 항목 | 내용 |
|------|------|
| 날짜 | 2026-01-23 |
| 상태 | 승인됨 |
| 결정 | LCD 화면을 ui-implementation-plan.md 와이어프레임에 정확히 맞춤 |

### 컨텍스트
- Playground에 구현된 LCD 화면이 ui-implementation-plan.md와 불일치
- 로봇 대사가 "할머니~" 손주 말투로 통일되지 않음
- 어르신용 버튼이 충분히 크지 않음

### 결정 내용

#### 1. 불필요한 화면 삭제
| 화면 | 삭제 이유 |
|------|----------|
| 통화 (`call`) | ui-implementation-plan.md에 정의되지 않음 |
| 수면 (`sleep`) | ui-implementation-plan.md에 정의되지 않음 |

#### 2. 대사 통일 (손주 말투)
| 화면 | 대사 |
|------|------|
| 대기 | "할머니~ 오늘도 좋은 하루 되세요!" |
| 인사 | "할머니~ 잘 주무셨어요?" |
| 복약 | "할머니~ 약 드실 시간이에요!" |
| 일정 | "할머니~ 곧 일정이 있어요!" |
| 긴급 | "할머니! 괜찮으세요?!" |
| 충전 | "할머니~ 저 충전할게요" |

#### 3. 초대형 버튼 추가 (80px+)
| 화면 | 버튼 |
|------|------|
| 복약 | [응, 먹었어~], [아직이야~] |
| 일정 | [응, 알겠어~] |
| 긴급 | [😊 괜찮아~], [🚨 도와줘!] |

#### 4. 다크 모드 버튼 접근성 개선
- `variant="dark"` 버튼에 `dark:bg-primary-600` 추가
- 다크 모드에서도 로봇 로그인 버튼이 보이도록 함

### 최종 LCD 화면 목록 (7개)
1. 대기 (`standby`)
2. 인사 (`greeting`)
3. 복약 알림 (`medication`)
4. 일정 알림 (`schedule`)
5. 대화/듣는 중 (`listening`)
6. 긴급/낙상 감지 (`emergency`)
7. 충전 중 (`charging`)

### 결과
- ui-implementation-plan.md와 100% 일치
- 모든 대사 손주 말투 적용
- 어르신 터치 정확도 향상 (80px+ 버튼)

---

## 🔄 업데이트 이력

| 날짜 | ADR | 변경 |
|------|-----|------|
| 2026-01-22 | ADR-001 | 초기 작성 |
| 2026-01-22 | ADR-002 | 초기 작성 |
| 2026-01-22 | ADR-003 | 초기 작성 |
| 2026-01-23 | ADR-004 | 색상 대비 개선 결정 추가 |
| 2026-01-23 | ADR-005 | LCD 화면 구성 표준화 |
